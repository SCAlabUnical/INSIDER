<html>
	<head>
		<title>INSIDER</title>

		<!-- 
		LiveReload support.
		http://livereload.com/
		-->
		<script src="http://localhost:35729/livereload.js?snipver=1"></script>

		<link rel="stylesheet" href="css/forms.css">
		<link rel="stylesheet" href="css/icons_container.css">
		<link rel="stylesheet" href="css/tags.css">
		<link rel="stylesheet" href="css/data-grid.css">
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	</head>	
	<body 
		ng-app="app" 
		ng-controller="AppCtrl"
		mouse-capture
		ng-keydown="keyDown($event)"
		ng-keyup="keyUp($event)"
		ng-click="hideContextMenu()"
		>

		<!-- Modal for error connecting to the server -->
		<div class="modal" id="connectionErrorModal" tabindex="-1">
			<div class="modal-dialog modal-dialog-centered">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Server Offline</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p>The server is currently offline.</p>
					</div>
				</div>
			</div>
		</div>

		<div class='app-container' style="width: 100%; overflow: hidden;">
		    <div class="json-container" style="float: left;">
				<div class="json-content">
					<textarea 
						id="json-textarea"
						style="width: 100%; height: 100%;"
						chart-json-edit
						view-model="chartViewModel"
						>
					</textarea>
				</div>
			</div>
		    <div class="flowchart-container">
				<div class="container d-flex justify-content-center align-items-center">
					<div class="btn-group">
						<button
						ng-click="toggleJsonButton()"
						class="btn btn-primary">
						Hide JSON
						</button> 
						<button
						ng-click="openFindMatchModal()"
						class="btn btn-primary"
						title="Finds match between default catalog and workflow"
						>
						Find Match
						</button>
						<button
						id="setConstraintsButton"
						class="btn btn-primary"
						ng-click="openSetConstraints()"
						>
						Set Constraints
						</button>
						<button
						class="btn btn-primary"
						title="Add a new node"
						ng-click="openAddNodeModal()"
						>
						Add Node
						</button>
						<button
						ng-click="saveFile()"
						class="btn btn-primary"
						title="Save the current workflow"
						>
						Save
						</button>
						<button
						ng-click="loadFile()"
						class="btn btn-primary"
						title="Load a workflow"
						>
						Load
						</button>
					</div>	
				</div>

				<!-- Modal for creating new node -->
				
				<!--
				This custom element defines the flowchart.
				-->
			    <flow-chart
		    		style="margin: 5px;"
			      	chart="chartViewModel"
					class="zoom-element"
					ng-style="{'transform': 'scale(' + scale + ')'}"
					on-wheel="handleWheel($event)"
			      	>
			    </flow-chart>
		    </div>
		</div>

		<link rel="stylesheet" type="text/css" href="app.css">

		<!-- Library code. -->
		<script src="lib/jquery-2.0.2.js" type="text/javascript"></script>
		<script src="lib/angular.js" type="text/javascript"></script>

		<!-- Flowchart code. -->
		<script src="debug.js" type="text/javascript"></script>
		<script src="flowchart/svg_class.js" type="text/javascript"></script>
		<script src="flowchart/mouse_capture_service.js" type="text/javascript"></script>
		<script src="flowchart/dragging_service.js" type="text/javascript"></script>
		<script src="flowchart/flowchart_viewmodel.js" type="text/javascript"></script>
		<script src="flowchart/directives/flowchart_directive.js" type="text/javascript"></script>
		<script src="flowchart/directives/flowchart_device_directive.js" type="text/javascript"></script>
		<!-- App code. -->
		<script src="app.js" type="text/javascript"></script>
		<script src="result/result.component.js"></script>
	</body>
</html>
